export interface PhpCheatSheetItem {
  name: string;
  description: string;
  example: string;
  category: 'Syntax & Variables' | 'Operators' | 'Control Structures' | 'Functions' | 'String Functions' | 'Array Functions' | 'Arrays' | 'OOP' | 'File & JSON Handling' | 'Error Handling & Debugging' | 'Superglobals' | 'Newer Features' | 'Date & Time' | 'Database (PDO)' | 'Dependency Management (Composer)' | 'Security' | 'Command Line (CLI)';
  version?: string;
}

export const phpData: PhpCheatSheetItem[] = [
  // --- Syntax & Variables ---
  {
    name: '<?php ... ?>',
    description: 'The standard opening and closing tags for PHP code. All PHP code must be enclosed within these tags.',
    example: '<?php\n  echo "Hello, World!";\n?>',
    category: 'Syntax & Variables',
  },
  {
    name: 'Variables ($)',
    description: 'All variables in PHP are denoted by a leading dollar sign ($). Variable names are case-sensitive.',
    example: '$name = "Alice";\n$age = 30;',
    category: 'Syntax & Variables',
  },
  {
    name: 'echo & print',
    description: '`echo` and `print` are language constructs used to output data to the screen. `echo` can take multiple parameters and has no return value, while `print` takes one argument and returns 1.',
    example: 'echo "Hello ", "World!";\nprint "This also works.";',
    category: 'Syntax & Variables',
  },
  {
    name: 'Namespaces (namespace / use)',
    description: 'A way of encapsulating items to avoid name collisions. The `namespace` keyword declares a namespace, and `use` imports one.',
    example: 'namespace App\\Http;\n\nuse App\\Models\\User;\n\nclass UserController { /* ... */ }',
    category: 'Syntax & Variables',
    version: '5.3.0+',
  },
  {
    name: 'global keyword',
    description: 'Used to access global variables from within a function. Using global variables is generally discouraged in modern practice.',
    example: '$x = 5;\nfunction myTest() {\n  global $x;\n  echo $x;\n}',
    category: 'Syntax & Variables',
  },
  {
    name: 'Constants (define)',
    description: 'Defines a named constant that cannot be changed during the script. Names are case-sensitive by default.',
    example: 'define("SITE_URL", "https://example.com");\necho SITE_URL;',
    category: 'Syntax & Variables',
  },
  {
    name: 'const (Class Constants)',
    description: 'Declares a constant as a class member. These are public by default and accessed statically with `self::` or `ClassName::`.',
    example: 'class MyClass {\n  const GREETING = "Hello World";\n}\necho MyClass::GREETING;',
    category: 'Syntax & Variables',
    version: '5.3.0+',
  },
  {
    name: 'Heredoc / Nowdoc',
    description: 'Syntax for creating multi-line strings. Heredoc processes variables, while Nowdoc (single-quoted) does not. Nowdoc syntax was introduced in PHP 5.3.0.',
    example: '// Heredoc (parses variables)\n$name = "Lee";\n$heredoc = <<<EOT\nHello, $name!\nThis is a multi-line string.\nEOT;\n\n// Nowdoc (does not parse variables)\n$nowdoc = <<<\'EOT\'\nHello, $name!\nEOT;',
    category: 'Syntax & Variables',
    version: '5.3.0+',
  },

  // --- Operators ---
  {
    name: 'Concatenation (.)',
    description: 'The dot operator is used to join two strings together.',
    example: '$greeting = "Hello" . " " . "World!";',
    category: 'Operators',
  },
  {
    name: 'instanceof',
    description: 'Used to determine if a PHP variable is an instantiated object of a certain class.',
    example: 'class MyClass {}\n$a = new MyClass();\nif ($a instanceof MyClass) { ... }',
    category: 'Operators',
    version: '5.0+',
  },
  {
    name: 'Array Operators (+, ==, ===)',
    description: '`+` (Union): Appends right-hand array to left-hand if keys don\'t exist in left. `==` (Equality): True if arrays have the same key/value pairs. `===` (Identity): True if arrays have the same key/value pairs in the same order and of the same types.',
    example: '$a = [1, 2]; $b = [3, 4]; $c = $a + $b; // [1, 2, 3, 4]',
    category: 'Operators',
  },
  {
    name: 'Error Control Operator (@)',
    description: 'When prepended to an expression in PHP, any diagnostic error that might be generated by that expression will be suppressed.',
    example: '$value = @$array[$key]; // Suppresses "undefined index" notice',
    category: 'Operators',
  },
  {
    name: 'Execution Operator (`...`)',
    description: 'PHP will attempt to execute the contents of the backticks as a shell command; the output will be returned as a string.',
    example: '$output = `ls -al`;',
    category: 'Operators',
  },
  {
    name: 'Spaceship Operator (<=>)',
    description: 'Performs a three-way comparison. Returns -1, 0, or 1 if the left side is less than, equal to, or greater than the right side.',
    example: '$a <=> $b;',
    version: '7.0+',
    category: 'Operators',
  },
  {
    name: 'Null Coalesce Operator (??)',
    description: 'Returns its first operand if it exists and is not NULL; otherwise it returns its second operand. A convenient shortcut for a common use of `isset()`.',
    example: '$username = $_GET["user"] ?? "guest";',
    version: '7.0+',
    category: 'Operators',
  },
  {
    name: 'Null Coalescing Assignment (??=)',
    description: 'Assigns the right-hand operand to the left-hand operand only if the left-hand operand is null.',
    example: '$user["name"] ??= "Anonymous";\n// Equivalent to: if (!isset($user["name"])) { $user["name"] = "Anonymous"; }',
    version: '7.4+',
    category: 'Operators',
  },

  // --- Control Structures ---
  {
    name: 'if...elseif...else',
    description: 'Conditional statements for executing code based on different conditions.',
    example: 'if ($score > 90) {\n  $grade = "A";\n} elseif ($score > 80) {\n  $grade = "B";\n} else {\n  $grade = "C";\n}',
    category: 'Control Structures',
  },
  {
    name: 'switch',
    description: 'A multi-way branch statement. It compares a variable with many different values and executes a block of code based on the match.',
    example: 'switch ($day) {\n  case "Monday":\n    echo "Start of the week";\n    break;\n  default:\n    echo "Another day";\n}',
    category: 'Control Structures',
  },
  {
    name: 'while',
    description: 'Loops through a block of code as long as the specified condition is true.',
    example: '$i = 1;\nwhile ($i <= 5) {\n  echo $i++;\n}',
    category: 'Control Structures',
  },
  {
    name: 'foreach',
    description: 'Provides an easy way to iterate over arrays. Can iterate over values or both keys and values.',
    example: '$colors = ["red", "green", "blue"];\nforeach ($colors as $color) {\n  echo $color;\n}',
    category: 'Control Structures',
    version: '4.0+',
  },
  {
    name: 'break / continue',
    description: '`break` ends execution of the current loop or switch structure. `continue` is used to skip the rest of the current loop iteration and continue with the next iteration.',
    example: 'for ($i = 0; $i < 10; $i++) {\n  if ($i === 3) continue;\n  if ($i === 8) break;\n  echo $i;\n}',
    category: 'Control Structures',
  },
  {
    name: 'try...catch...finally',
    description: 'Handles exceptions. The `try...catch` block was introduced in PHP 5. The `finally` block, which always executes, was added in PHP 5.5.',
    example: 'try {\n  // code\n} catch (Exception $e) {\n  // handle error\n} finally {\n  // cleanup code\n}',
    version: '5.5+',
    category: 'Control Structures',
  },
  
  // --- Functions ---
  {
    name: 'Function Declaration',
    description: 'A block of code that can be called repeatedly. PHP supports type declarations for parameters (PHP 5+) and return values (PHP 7.0+).',
    example: 'function add(int $a, int $b): int {\n  return $a + $b;\n}',
    category: 'Functions',
    version: '7.0+',
  },
  {
    name: 'Anonymous Functions (Closures)',
    description: 'Functions without a name. They can be stored in a variable and passed as arguments to other functions.',
    example: '$sayHello = function($name) {\n  echo "Hello " . $name;\n};\n$sayHello("World");',
    category: 'Functions',
    version: '5.3.0+',
  },
  {
    name: 'Variadic Functions (...)',
    description: 'Allows a function to accept a variable number of arguments, which are then accessible as an array.',
    example: 'function sum(...$numbers) {\n  return array_sum($numbers);\n}\nsum(1, 2, 3, 4); // 10',
    category: 'Functions',
    version: '5.6+',
  },
  {
    name: 'Argument Unpacking (...)',
    description: 'Allows an array or Traversable object to be unpacked into a function\'s argument list.',
    example: 'function add($a, $b) { return $a + $b; }\n$nums = [1, 2];\nadd(...$nums); // 3',
    category: 'Functions',
    version: '5.6+',
  },
  {
    name: 'First-class callable syntax',
    description: 'A cleaner syntax for creating closures from callable functions or methods.',
    example: '$my_callable = strlen(...);\n// Replaces: $my_callable = fn($str) => strlen($str);',
    category: 'Functions',
    version: '8.1+',
  },
  {
    name: 'isset()',
    description: 'Determine if a variable is declared and is not NULL.',
    example: 'if (isset($my_var)) {\n  echo "Variable is set.";\n}',
    category: 'Functions',
  },
  {
    name: 'empty()',
    description: 'Determine whether a variable is considered to be empty. A variable is considered empty if it does not exist or if its value equals false.',
    example: 'if (empty($user_input)) {\n  echo "Please provide input.";\n}',
    category: 'Functions',
  },
  {
    name: 'include / require',
    description: 'Includes and evaluates the specified file. `require` will produce a fatal error and stop the script if the file is not found, whereas `include` will only produce a warning.',
    example: 'require "config.php";\ninclude "header.php";',
    category: 'Functions',
  },
  {
    name: 'session_start()',
    description: 'Starts a new or resumes an existing session. Must be called before any output is sent to the browser.',
    example: 'session_start();\n$_SESSION["views"] = 1;',
    category: 'Functions',
  },
  {
    name: 'header()',
    description: 'Sends a raw HTTP header. Must be called before any actual output is sent.',
    example: '// Redirect to another page\nheader("Location: http://www.example.com/");\nexit;',
    category: 'Functions',
  },
  {
    name: 'date()',
    description: 'Formats a local time and/or date according to a given format string.',
    example: 'echo date("Y-m-d H:i:s"); // e.g., "2024-05-21 14:30:00"',
    category: 'Functions',
  },
  {
    name: 'time()',
    description: 'Returns the current Unix timestamp (the number of seconds since the Unix Epoch - January 1 1970 00:00:00 GMT).',
    example: '$timestamp = time();',
    category: 'Functions',
  },
  
  // --- String Functions ---
  {
    name: 'strlen()',
    description: 'Returns the length of the given string.',
    example: '$length = strlen("Hello World"); // 11',
    category: 'String Functions',
  },
  {
    name: 'str_replace()',
    description: 'Replace all occurrences of the search string with the replacement string.',
    example: '$newStr = str_replace("World", "PHP", "Hello World!"); // "Hello PHP!"',
    category: 'String Functions',
  },
  {
    name: 'str_contains()',
    description: 'Checks if a string contains a given substring (case-sensitive).',
    example: 'if (str_contains("Hello World", "World")) { /* true */ }',
    category: 'String Functions',
    version: '8.0+',
  },
  {
    name: 'str_starts_with() / str_ends_with()',
    description: 'Checks if a string starts or ends with a given substring.',
    example: 'str_starts_with("abc", "a"); // true\nstr_ends_with("abc", "c"); // true',
    category: 'String Functions',
    version: '8.0+',
  },
  {
    name: 'strtolower() / strtoupper()',
    description: 'Converts a string to all lowercase or all uppercase characters.',
    example: '$lower = strtolower("Hello World"); // "hello world"\n$upper = strtoupper("Hello World"); // "HELLO WORLD"',
    category: 'String Functions',
  },
  {
    name: 'trim()',
    description: 'Strips whitespace (or other characters) from the beginning and end of a string.',
    example: '$text = "  Hello World  ";\n$trimmed = trim($text); // "Hello World"',
    category: 'String Functions',
  },
  {
    name: 'substr()',
    description: 'Returns a part of a string.',
    example: '$substring = substr("abcdef", 1, 3); // "bcd"',
    category: 'String Functions',
  },
  {
    name: 'explode()',
    description: 'Splits a string by a specified delimiter into an array.',
    example: '$parts = explode(" ", "This is a sentence"); // ["This", "is", "a", "sentence"]',
    category: 'String Functions',
  },
  {
    name: 'implode()',
    description: 'Joins array elements with a string.',
    example: '$arr = ["Hello", "World"];\n$str = implode(", ", $arr); // "Hello, World"',
    category: 'String Functions',
  },
  {
    name: 'htmlspecialchars()',
    description: 'Converts special characters to their HTML entities to prevent XSS attacks.',
    example: '$safe_input = htmlspecialchars("<script>alert(\'xss\')</script>");',
    category: 'String Functions',
  },
  {
    name: 'preg_match()',
    description: 'Performs a regular expression match. Returns 1 if the pattern matches, 0 if it does not, or false on error.',
    example: 'if (preg_match("/(foo)(bar)/", "foobar", $matches)) {\n  // $matches[0] is "foobar", $matches[1] is "foo", $matches[2] is "bar"\n}',
    category: 'String Functions',
  },

  // --- Array Functions ---
  {
    name: 'count()',
    description: 'Counts all elements in an array or in a Countable object.',
    example: '$fruits = ["apple", "banana"];\n$count = count($fruits); // 2',
    category: 'Array Functions',
  },
  {
    name: 'in_array()',
    description: 'Checks if a value exists in an array.',
    example: '$fruits = ["apple", "banana"];\nif (in_array("apple", $fruits)) {\n  // ...\n}',
    category: 'Array Functions',
    version: '4.0.0+',
  },
  {
    name: 'array_key_exists()',
    description: 'Checks if the given key or index exists in the array.',
    example: '$search_array = ["first" => 1, "second" => 4];\nif (array_key_exists("first", $search_array)) { ... }',
    category: 'Array Functions',
  },
  {
    name: 'array_search()',
    description: 'Searches an array for a given value and returns the first corresponding key if successful.',
    example: '$array = ["blue", "red", "green", "red"];\n$key = array_search("green", $array); // $key = 2;',
    category: 'Array Functions',
    version: '4.0.5+',
  },
  {
    name: 'array_push() / []',
    description: 'Pushes one or more elements onto the end of an array. The `[]` shorthand syntax for pushing was added in PHP 5.4.',
    example: '$stack = ["orange", "banana"];\narray_push($stack, "apple", "raspberry");\n$stack[] = "strawberry"; // Recommended',
    category: 'Array Functions',
    version: '5.4+',
  },
  {
    name: 'array_merge()',
    description: 'Merges one or more arrays into one. If arrays have the same string keys, the later value for that key will overwrite the previous one.',
    example: '$array1 = ["color" => "red", 2, 4];\n$array2 = ["a", "b", "color" => "green", "shape" => "trapezoid", 4];\n$result = array_merge($array1, $array2);',
    category: 'Array Functions',
    version: '4.0.0+',
  },
  {
    name: 'array_map()',
    description: 'Applies a callback function to the elements of the given arrays.',
    example: '$numbers = [1, 2, 3];\n$doubled = array_map(fn($n) => $n * 2, $numbers);',
    category: 'Array Functions',
  },
  {
    name: 'array_filter()',
    description: 'Filters elements of an array using a callback function. If the callback returns true, the current element is returned in the result array.',
    example: '$numbers = [1, 2, 3, 4];\n$evens = array_filter($numbers, fn($n) => $n % 2 == 0);',
    category: 'Array Functions',
    version: '4.0.6+',
  },
  {
    name: 'array_reduce()',
    description: 'Iteratively reduces the array to a single value using a callback function.',
    example: '$numbers = [1, 2, 3, 4, 5];\n$sum = array_reduce($numbers, fn($carry, $item) => $carry + $item, 0); // 15',
    category: 'Array Functions',
  },
  {
    name: 'array_column()',
    description: 'Returns the values from a single column of a multi-dimensional array.',
    example: '$records = [["id" => 1, "name" => "Alice"], ["id" => 2, "name" => "Bob"]];\n$names = array_column($records, "name"); // ["Alice", "Bob"]',
    category: 'Array Functions',
    version: '5.5.0+',
  },
  {
    name: 'array_keys() / array_values()',
    description: '`array_keys()` returns all the keys or a subset of the keys of an array. `array_values()` returns all the values from an array.',
    example: '$user = ["name" => "John", "age" => 30];\n$keys = array_keys($user); // ["name", "age"]\n$values = array_values($user); // ["John", 30]',
    category: 'Array Functions',
  },
  {
    name: 'sort()',
    description: 'Sorts an array in ascending order. Other sort functions include `rsort()` (reverse), `asort()` (value sort, maintains index association), `ksort()` (key sort).',
    example: '$fruits = ["lemon", "orange", "banana", "apple"];\nsort($fruits); // $fruits is now ["apple", "banana", "lemon", "orange"]',
    category: 'Array Functions',
  },

  // --- Arrays ---
  {
    name: 'Indexed Arrays',
    description: 'Arrays with a numeric index. The short `[]` syntax was added in PHP 5.4.',
    example: '$cars = ["Volvo", "BMW", "Toyota"];\n// or $cars = array("Volvo", "BMW", "Toyota");',
    category: 'Arrays',
    version: '5.4+',
  },
  {
    name: 'Associative Arrays',
    description: 'Arrays that use named keys that you assign to them. The short `[]` syntax was added in PHP 5.4.',
    example: '$age = ["Peter" => 35, "Ben" => 37, "Joe" => 43];',
    category: 'Arrays',
    version: '5.4+',
  },
  {
    name: 'Array Destructuring',
    description: 'Allows you to unpack values from arrays into distinct variables. Works for indexed and associative arrays.',
    example: '[$a, $b] = [1, 2]; // $a=1, $b=2\n["name" => $name] = ["name" => "John"]; // $name="John"',
    version: '7.1+',
    category: 'Arrays',
  },

  // --- OOP ---
  {
    name: 'Class & Object',
    description: 'A class is a template for objects, and an object is an instance of a class. Modern OOP syntax was introduced in PHP 5.',
    example: 'class Fruit {\n  public $name;\n}\n$apple = new Fruit();\n$apple->name = "Apple";',
    category: 'OOP',
    version: '5.0+',
  },
  {
    name: 'public, protected, private',
    description: 'Visibility keywords. `public` members are accessible everywhere. `protected` members are accessible within the class and by classes that extend it. `private` members are only accessible within the class that defines them.',
    example: 'class MyClass {\n  public $public = "Public";\n  protected $protected = "Protected";\n  private $private = "Private";\n}',
    category: 'OOP',
    version: '5.0+',
  },
  {
    name: 'static',
    description: 'Declares properties or methods as static, making them accessible without needing an instantiation of the class.',
    example: 'class Greeter {\n  public static function sayHello() {\n    echo "Hello World";\n  }\n}\n\nGreeter::sayHello();',
    category: 'OOP',
    version: '5.0+',
  },
  {
    name: '__construct()',
    description: 'A constructor method that is automatically called when a new object is created.',
    example: 'class Car {\n  public string $brand;\n  public function __construct(string $brand) {\n    $this->brand = $brand;\n  }\n}\n$myCar = new Car("Toyota");',
    category: 'OOP',
    version: '5.0+',
  },
  {
    name: 'Inheritance (extends)',
    description: 'When a class derives from another class. The child class will inherit all the public and protected properties and methods from the parent class.',
    example: 'class Strawberry extends Fruit {\n  public function message() {\n    echo "I am a strawberry";\n  }\n}',
    category: 'OOP',
    version: '5.0+',
  },
  {
    name: 'abstract class / method',
    description: 'An abstract class cannot be instantiated. It must be extended. An abstract method is declared but not implemented in the parent class; it must be implemented by the child class.',
    example: 'abstract class Animal { abstract public function makeSound(); }',
    category: 'OOP',
    version: '5.0+',
  },
  {
    name: 'final',
    description: 'The `final` keyword prevents child classes from overriding a method. If the class itself is defined as final, then it cannot be extended.',
    example: 'class Base { final public function myMethod() {} }',
    category: 'OOP',
    version: '5.0+',
  },
  {
    name: 'interface',
    description: 'Specifies methods a class must implement, without defining how these methods are handled. Allows for polymorphism.',
    example: 'interface Animal { public function makeSound(); }\nclass Cat implements Animal { public function makeSound() { echo "Meow"; } }',
    category: 'OOP',
    version: '5.0+',
  },
  {
    name: 'trait',
    description: 'A mechanism for code reuse in single inheritance languages such as PHP. A Trait is intended to reduce some limitations of single inheritance by enabling a developer to reuse sets of methods freely in several independent classes living in different class hierarchies.',
    example: 'trait Sharable { public function share($item) { echo "Sharing " . $item; } }\nclass Post { use Sharable; }',
    version: '5.4+',
    category: 'OOP',
  },
  {
    name: 'Generators (yield)',
    description: 'A simpler way to implement iterators without the overhead of implementing the Iterator interface. A function that contains `yield` is a generator function.',
    example: 'function get_range($max) {\n  for ($i = 1; $i < $max; $i++) {\n    yield $i;\n  }\n}\n\nforeach (get_range(10) as $number) { ... }',
    version: '5.5.0+',
    category: 'OOP',
  },
  {
    name: '__toString()',
    description: 'A "magic method" that allows a class to decide how it will react when it is treated like a string.',
    example: 'class MyClass { public function __toString() { return "This is a string."; } }\n$obj = new MyClass();\necho $obj;',
    category: 'OOP',
    version: '5.0+',
  },
  {
    name: '__invoke()',
    description: 'A "magic method" which is called when a script tries to call an object as a function.',
    example: 'class CallableClass { public function __invoke($x) { var_dump($x); } }\n$obj = new CallableClass();\n$obj(5); // Dumps int(5)',
    category: 'OOP',
    version: '5.3.0+',
  },
  {
    name: 'Magic Methods (__get, __set, __call)',
    description: 'Used for property and method overloading. `__get($name)` is called when reading inaccessible properties. `__set($name, $value)` is called for writing to them. `__call($name, $args)` is called for inaccessible methods.',
    example: 'class MyClass { private $data = [];\n  public function __set($name, $value) { $this->data[$name] = $value; }\n}',
    category: 'OOP',
    version: '5.0+',
  },

  // --- Date & Time ---
  {
    name: 'DateTime Class',
    description: 'The modern, object-oriented way to handle dates and times. Provides a robust API for date manipulation.',
    example: '$date = new DateTime("2024-01-01 12:00:00", new DateTimeZone("UTC"));\necho $date->format("Y-m-d H:i:s");',
    category: 'Date & Time',
    version: '5.2.0+',
  },
  {
    name: 'DateTime::createFromFormat',
    description: 'Parses a time string according to a specified format and creates a new DateTime object.',
    example: '$date = DateTime::createFromFormat("m-d-Y", "05-21-2024");',
    category: 'Date & Time',
    version: '5.3.0+',
  },
  {
    name: 'DateInterval',
    description: 'Represents a date interval. Used to add or subtract periods of time from DateTime objects.',
    example: '$date = new DateTime();\n$interval = new DateInterval("P2D"); // Period of 2 days\n$date->add($interval);\necho $date->format("Y-m-d");',
    category: 'Date & Time',
    version: '5.3.0+',
  },
  {
    name: 'DateTime::format()',
    description: 'Formats a DateTime object into a string based on the provided format characters.',
    example: '$date = new DateTime();\necho $date->format("l, F j, Y"); // e.g., "Tuesday, May 21, 2024"',
    category: 'Date & Time',
    version: '5.2.0+',
  },

  // --- File & JSON Handling ---
  {
    name: 'file_exists()',
    description: 'Checks whether a file or directory exists.',
    example: 'if (file_exists("my_file.txt")) {\n  echo "The file exists.";\n}',
    category: 'File & JSON Handling',
  },
  {
    name: 'file_get_contents()',
    description: 'Reads an entire file into a string. Can also be used to make simple GET HTTP requests.',
    example: '$homepage = file_get_contents("http://www.example.com/");\n$file_content = file_get_contents("my_file.txt");',
    category: 'File & JSON Handling',
    version: '4.3.0+',
  },
  {
    name: 'file_put_contents()',
    description: 'Writes data to a file, creating the file if it does not exist. It is a shortcut for `fopen()`, `fwrite()`, and `fclose()`.',
    example: '$file = "people.txt";\n$current = "John Smith\n";\nfile_put_contents($file, $current, FILE_APPEND);',
    category: 'File & JSON Handling',
    version: '5.0+',
  },
  {
    name: 'json_encode()',
    description: 'Returns the JSON representation of a PHP value (like an array or object). Requires the JSON extension.',
    example: '$arr = ["a" => 1, "b" => 2];\n$json = json_encode($arr); // \'{"a":1,"b":2}\'',
    category: 'File & JSON Handling',
    version: '5.2.0+',
  },
  {
    name: 'json_decode()',
    description: 'Decodes a JSON string into a PHP variable. Passing `true` as the second argument converts JSON objects into associative arrays. Requires the JSON extension.',
    example: '$json = \'{"a":1,"b":2}\';\n$obj = json_decode($json); // stdClass object\n$arr = json_decode($json, true); // associative array',
    category: 'File & JSON Handling',
    version: '5.2.0+',
  },
  {
    name: 'json_validate()',
    description: 'Checks if a string is valid JSON. More performant than `json_decode` for validation purposes.',
    example: 'if (json_validate(\'{"a":1}\')) { ... }',
    category: 'File & JSON Handling',
    version: '8.3+',
  },
  {
    name: 'JSON_THROW_ON_ERROR',
    description: 'A flag for `json_encode()` and `json_decode()` that causes them to throw a `JsonException` on error, instead of returning false and setting a global error state.',
    example: 'try {\n  json_decode("{", false, 512, JSON_THROW_ON_ERROR);\n} catch (JsonException $e) {\n  // Handle error\n}',
    category: 'File & JSON Handling',
    version: '7.3.0+',
  },

  // --- Database (PDO) ---
  {
    name: 'PDO: Connecting',
    description: 'Connect to a database using PHP Data Objects (PDO). It is recommended to wrap the connection in a try-catch block.',
    example: '$host = "127.0.0.1";\n$db   = "test";\n$user = "root";\n$pass = "";\n$dsn = "mysql:host=$host;dbname=$db";\n$options = [\n  PDO::ATTR_ERRMODE            => PDO::ERRMODE_EXCEPTION,\n  PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC,\n];\n\ntry {\n  $pdo = new PDO($dsn, $user, $pass, $options);\n} catch (PDOException $e) {\n  throw new PDOException($e->getMessage(), (int)$e->getCode());\n}',
    category: 'Database (PDO)',
    version: '5.1.0+',
  },
  {
    name: 'PDO: Prepared Statements (Query)',
    description: 'Use prepared statements with placeholders (?) or named parameters (:name) to prevent SQL injection when running SELECT queries.',
    example: '$stmt = $pdo->prepare("SELECT * FROM users WHERE email = :email");\n$stmt->execute(["email" => $email]);\n$user = $stmt->fetch();',
    category: 'Database (PDO)',
    version: '5.1.0+',
  },
  {
    name: 'PDO: Prepared Statements (Execute)',
    description: 'Use prepared statements for INSERT, UPDATE, and DELETE queries to safely handle user data.',
    example: '$sql = "INSERT INTO users (name, email) VALUES (?, ?)";\n$pdo->prepare($sql)->execute([$name, $email]);',
    category: 'Database (PDO)',
    version: '5.1.0+',
  },
  {
    name: 'PDO: Fetching Data',
    description: 'Fetch results from a statement. `fetch()` gets the next row, while `fetchAll()` gets all rows into an array.',
    example: '// Fetch a single row\n$user = $stmt->fetch();\n\n// Fetch all rows\n$users = $stmt->fetchAll();\n\n// Loop through results\nwhile ($row = $stmt->fetch()) {\n  echo $row["name"];\n}',
    category: 'Database (PDO)',
    version: '5.1.0+',
  },
  {
    name: 'PDO: Transactions',
    description: 'Group multiple queries into a single transaction. `beginTransaction()` starts it, `commit()` applies the changes, and `rollBack()` reverts them on error.',
    example: 'try {\n  $pdo->beginTransaction();\n  $pdo->prepare($sql1)->execute($data1);\n  $pdo->prepare($sql2)->execute($data2);\n  $pdo->commit();\n} catch (Exception $e) {\n  $pdo->rollBack();\n  throw $e;\n}',
    category: 'Database (PDO)',
    version: '5.1.0+',
  },

  // --- Security ---
  {
    name: 'password_hash()',
    description: 'Creates a new password hash using a strong one-way hashing algorithm. The recommended way to store passwords.',
    example: '$hash = password_hash("my-secret-password", PASSWORD_DEFAULT);',
    category: 'Security',
    version: '5.5+',
  },
  {
    name: 'password_verify()',
    description: 'Verifies that a given password matches a hash. It is timing attack safe.',
    example: 'if (password_verify("my-secret-password", $hash)) {\n  // Password is correct\n}',
    category: 'Security',
    version: '5.5+',
  },
  {
    name: 'filter_var()',
    description: 'Filters a variable with a specified filter. Useful for validating and sanitizing user input.',
    example: '// Validate email\nif (filter_var("test@example.com", FILTER_VALIDATE_EMAIL)) {\n  // valid email\n}\n\n// Sanitize string (replaces special chars with HTML entities)\n$input = "<script>alert(\'XSS\')</script>";\n$sanitized_input = filter_var($input, FILTER_SANITIZE_FULL_SPECIAL_CHARS);\n// $sanitized_input is "&#60;script&#62;alert..."',
    category: 'Security',
    version: '5.2+',
  },

  // --- Dependency Management (Composer) ---
  {
    name: 'composer init',
    description: 'Initializes a new Composer project interactively, creating a `composer.json` file.',
    example: 'composer init',
    category: 'Dependency Management (Composer)',
  },
  {
    name: 'composer require',
    description: 'Adds a new dependency to your project and installs it. It automatically updates `composer.json` and `composer.lock`.',
    example: 'composer require monolog/monolog',
    category: 'Dependency Management (Composer)',
  },
  {
    name: 'composer install',
    description: 'Installs all dependencies listed in `composer.lock`. If no lock file is present, it will read `composer.json` and create one.',
    example: 'composer install',
    category: 'Dependency Management (Composer)',
  },
  {
    name: 'composer update',
    description: 'Updates your dependencies to their latest versions according to the constraints in `composer.json`, and updates `composer.lock`.',
    example: 'composer update',
    category: 'Dependency Management (Composer)',
  },
  {
    name: 'composer dump-autoload',
    description: 'Regenerates the `vendor/autoload.php` file. Useful when you add new classes to your project that need to be autoloaded.',
    example: 'composer dump-autoload -o',
    category: 'Dependency Management (Composer)',
  },
  
  // --- Command Line (CLI) ---
  {
    name: 'php -S <addr>:<port>',
    description: 'Starts a built-in web server. Useful for local development. Example: `php -S localhost:8000`',
    example: 'php -S localhost:8000 -t public/',
    category: 'Command Line (CLI)',
    version: '5.4+',
  },
  {
    name: 'php -a',
    description: 'Runs PHP in interactive shell mode. Useful for quick code testing.',
    example: 'php -a\nphp > echo 5 + 5;\n10',
    category: 'Command Line (CLI)',
  },
  {
    name: 'php -l <file>',
    description: 'Lints a PHP file, checking for syntax errors without executing it.',
    example: 'php -l my_script.php\n// No syntax errors detected in my_script.php',
    category: 'Command Line (CLI)',
  },
  {
    name: 'php -r <code>',
    description: 'Allows you to run a single line of PHP code directly from the command line without tags.',
    example: 'php -r \'echo "Hello from CLI!";\'',
    category: 'Command Line (CLI)',
  },

  // --- Error Handling & Debugging ---
  {
    name: 'Throwable',
    description: 'The base interface for any object that can be thrown via a `throw` statement, including `Error` and `Exception`. Allows a single `catch` block to handle both.',
    example: 'try {\n  // Risky code\n} catch (Throwable $t) {\n  // Handle both errors and exceptions\n}',
    category: 'Error Handling & Debugging',
    version: '7.0+',
  },
  {
    name: 'var_dump()',
    description: 'Dumps information about a variable in a structured way that includes its type and value. More detailed than `print_r`.',
    example: '$my_var = [1, "hello", true];\nvar_dump($my_var);',
    category: 'Error Handling & Debugging',
  },
  {
    name: 'print_r()',
    description: 'Prints human-readable information about a variable. Good for arrays and objects.',
    example: '$my_var = ["a" => 1, "b" => 2];\nprint_r($my_var);',
    category: 'Error Handling & Debugging',
  },
  {
    name: 'error_reporting()',
    description: 'Sets which PHP errors are reported. Often used during development to show all errors.',
    example: 'error_reporting(E_ALL);\nini_set("display_errors", 1);',
    category: 'Error Handling & Debugging',
  },
  {
    name: 'die() / exit()',
    description: 'Equivalent functions that output a message and terminate the current script.',
    example: 'if ($error) {\n  die("An error occurred.");\n}',
    category: 'Error Handling & Debugging',
  },

  // --- Superglobals ---
  {
    name: '$_GET',
    description: 'An associative array of variables passed to the current script via the URL parameters (query string).',
    example: '// URL: /index.php?name=John\necho $_GET["name"]; // "John"',
    category: 'Superglobals',
  },
  {
    name: '$_POST',
    description: 'An associative array of variables passed to the current script via the HTTP POST method.',
    example: '// From a form with method="post"\necho $_POST["username"];',
    category: 'Superglobals',
  },
  {
    name: '$_FILES',
    description: 'An associative array of items uploaded to the current script via the HTTP POST method.',
    example: '// Access info about an uploaded file\n$fileName = $_FILES["myFile"]["name"];',
    category: 'Superglobals',
  },
  {
    name: '$_COOKIE',
    description: 'An associative array of variables passed to the current script via HTTP Cookies.',
    example: 'echo $_COOKIE["TestCookie"];',
    category: 'Superglobals',
  },
  {
    name: '$_REQUEST',
    description: 'An associative array that by default contains the contents of `$_GET`, `$_POST`, and `$_COOKIE`.',
    example: '// Can access both GET and POST data\necho $_REQUEST["username"];',
    category: 'Superglobals',
  },
  {
    name: '$_SESSION',
    description: 'An associative array containing session variables available to the current script. Requires `session_start()` to be called.',
    example: 'session_start();\n$_SESSION["favcolor"] = "green";',
    category: 'Superglobals',
  },
  {
    name: '$_SERVER',
    description: 'An array containing information such as headers, paths, and script locations. The entries in this array are created by the web server.',
    example: 'echo $_SERVER["HTTP_HOST"]; // example.com\necho $_SERVER["REQUEST_URI"]; // /page.php',
    category: 'Superglobals',
  },
  {
    name: '$_ENV',
    description: 'An associative array of variables passed to the current script via the environment method.',
    example: '// E.g., from a .env file loaded by a library\necho $_ENV["DB_HOST"];',
    category: 'Superglobals',
  },
  
  // --- Newer Features ---
  {
    name: 'Arrow Functions',
    description: 'Provide a more concise syntax for anonymous functions. They have access to variables from the parent scope automatically.',
    example: '$numbers = [1, 2, 3];\n$doubled = array_map(fn($n) => $n * 2, $numbers);',
    version: '7.4+',
    category: 'Newer Features',
  },
  {
    name: 'match Expression',
    description: 'A more powerful and safer alternative to the `switch` statement. It uses strict (`===`) comparison and returns a value.',
    example: '$message = match ($statusCode) {\n  200 => "OK",\n  404 => "Not Found",\n  default => "Unknown status",\n};',
    version: '8.0+',
    category: 'Newer Features',
  },
  {
    name: 'Named Arguments',
    description: 'Allows passing arguments to a function based on the parameter name, rather than the parameter position. This makes the code self-documenting.',
    example: 'htmlspecialchars($string, double_encode: false);',
    version: '8.0+',
    category: 'Newer Features',
  },
  {
    name: 'Nullsafe Operator (?->)',
    description: 'Allows method and property access on a potentially null value. If the value is null, the rest of the chain is skipped and the expression evaluates to null.',
    example: '$country = $session?->user?->getAddress()?->country;',
    version: '8.0+',
    category: 'Newer Features',
  },
  {
    name: 'Constructor Property Promotion',
    description: 'A shorthand syntax for constructors that declares and initializes properties at the same time.',
    example: 'class Point {\n  public function __construct(\n    public float $x = 0.0,\n    public float $y = 0.0,\n  ) {}\n}',
    version: '8.0+',
    category: 'Newer Features',
  },
  {
    name: 'Enums',
    description: 'Enumerations, or Enums, allow a developer to define a custom type that is limited to one of a discrete number of possible values.',
    example: 'enum Status { case Draft; case Published; }\nfunction setStatus(Status $status) { ... }',
    version: '8.1+',
    category: 'Newer Features',
  },
  {
    name: 'Fibers',
    description: 'Fibers are primitives for implementing lightweight cooperative concurrency. They provide a way to create code blocks that can be paused and resumed, similar to generators, but from anywhere in the stack.',
    example: '$fiber = new Fiber(function (): void {\n  $value = Fiber::suspend("fiber");\n  echo "Resumed with value: ", $value;\n});\n$value = $fiber->start();\n$fiber->resume("test");',
    version: '8.1+',
    category: 'Newer Features',
  },
  {
    name: 'Intersection Types (&)',
    description: 'Allows a parameter to be typed as requiring multiple interface implementations.',
    example: 'function process(HasName&HasId $item) {\n  echo $item->getName() . $item->getId();\n}',
    category: 'Newer Features',
    version: '8.1+',
  },
  {
    name: 'readonly properties',
    description: 'Class properties can be declared with the `readonly` modifier, which prevents them from being changed after initialization.',
    example: 'class UserData {\n  public readonly string $name;\n  public function __construct(string $name) {\n    $this->name = $name;\n  }\n}',
    version: '8.1+',
    category: 'Newer Features',
  },
  {
    name: 'Disjunctive Normal Form (DNF) Types',
    description: 'Allows combining union and intersection types, following a strict rule: intersection types must be grouped with parentheses.',
    example: 'function process((HasName&HasId)|null $item) { ... }',
    category: 'Newer Features',
    version: '8.2+',
  },
  {
    name: 'readonly classes',
    description: 'As of PHP 8.2.0, classes can be declared with the `readonly` modifier, which will add the readonly modifier to every declared property and prevent the creation of dynamic properties.',
    example: 'readonly class UserData {\n  public string $name;\n  public function __construct(string $name) {\n    $this->name = $name;\n  }\n}',
    version: '8.2+',
    category: 'Newer Features',
  },
  {
    name: 'Typed class constants',
    description: 'Class constants, interface constants, and trait constants now support type declarations.',
    example: 'class Config {\n  public const string VERSION = "1.0";\n  public const int MAX_RETRIES = 5;\n}',
    version: '8.3+',
    category: 'Newer Features',
  },
  {
    name: '#[Override] attribute',
    description: 'An attribute to explicitly declare that a method is intended to override a parent method. Helps prevent accidental removal or renaming of parent methods.',
    example: 'class ChildClass extends ParentClass {\n  #[Override]\n  public function myMethod(): void { ... }\n}',
    version: '8.3+',
    category: 'Newer Features',
  },
];